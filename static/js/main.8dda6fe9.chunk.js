(this.webpackJsonpstarships=this.webpackJsonpstarships||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports={item:"CatalogItem_item__1xaNj",title:"CatalogItem_title__333ZR",name:"CatalogItem_name__1rFhi",manufacturer:"CatalogItem_manufacturer__13-U-",model:"CatalogItem_model__mxzBU",cost:"CatalogItem_cost__3EAeA"}},,,,,,,,,function(e,t,a){e.exports={catalog:"Catalog_catalog__ZpGEr",main:"Catalog_main__3lhip"}},,function(e,t,a){e.exports={header:"Header_header__aImUz",title:"Header_title__2fayc"}},,,,,,,,function(e,t,a){e.exports={compare:"Button_compare__2Tt06"}},function(e,t,a){e.exports={ldsRing:"Loader_ldsRing__3w340"}},function(e,t,a){e.exports={item:"CompareItem_item__Lo8r-",fields:"CompareItem_fields__3idiP"}},function(e,t,a){e.exports={titles:"Fields_titles__3BTxA"}},function(e,t,a){e.exports={cell:"Cell_cell__3Z03p"}},function(e,t,a){e.exports={items:"Compare_items__2pszZ"}},function(e,t,a){e.exports={App:"App_App__oO1fp"}},function(e,t,a){e.exports=a(48)},,,,,,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),s=a(9),i=a(12),l=a(4),m=a(28),u=(a(45),a(7)),p=a(19),f=a.n(p),d=a(14),h=a.n(d),_=a(20),E=a(10),v=a.n(E),b=a(29),O=a.n(b),g=function(e){var t=e.onClick,a=e.text;return r.a.createElement("button",{onClick:t,className:O.a.compare},a)},j=function(e){if(isNaN(+e))return e;for(var t="",a=0,n=e.length-1;n>=0;n--)a++,t+=e[n],3===a&&(t+=" ",a=0);return"".concat(t.split("").reverse().join("")," $")},x=function(e){var t=e.starship,a=Object(l.c)(),n=t.isCompared?"Remove from compare":"Add to compare";return r.a.createElement("div",{className:v.a.item},r.a.createElement("div",{className:v.a.title,style:{background:t.color}},r.a.createElement("span",{className:v.a.name},t.name)),r.a.createElement("div",{className:v.a.manufacturer},t.manufacturer),r.a.createElement("div",{className:v.a.model},t.model),r.a.createElement("div",{className:v.a.cost},j(t.cost_in_credits)),r.a.createElement(g,{onClick:function(){return a({type:"TOGGLE_COMPARE",payload:t.id})},text:n}))},y=a(30),C=a.n(y),w=function(){return r.a.createElement("div",{className:C.a.ldsRing},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},N=function(){var e=Object(l.d)((function(e){return e.starships})),t=Object(l.d)((function(e){return e.error})),a=e.map((function(e){return r.a.createElement(x,{starship:Object(u.a)({},e),key:e.id})}));return r.a.createElement("main",{className:f.a.main},e.length?r.a.createElement("div",{className:f.a.catalog},a):t?r.a.createElement("h1",null,"Something went wrong :("):r.a.createElement(w,null))},k=a(24),A=a(31),R=a.n(A),I=a(32),S=a.n(I),T=a(33),P=a.n(T),G=function(e){return r.a.createElement("div",{className:"cell ".concat(P.a.cell),"data-row":e.row,style:e.style},e.content)},M=function(e){return(t=e.replace(/_/g," ")).charAt(0).toUpperCase()+t.slice(1);var t},B=function(e){var t=e.starship,a=e.fieldsTitles,n=Object.keys(t).map((function(e,n){var c=t[e];return Array.isArray(c)&&(c=c.length?c.join(", "):"-"),r.a.createElement("div",{className:"name"===e?"compare-header":"",key:n},r.a.createElement(G,{content:a?M(e):"",style:{fontSize:"14px",color:"rgba(0, 0, 0, 0.5)",position:"name"===e?"sticky":"static"}}),r.a.createElement(G,{row:n,content:c||"-"}))}));return r.a.createElement("div",{className:S.a.fields},n)},H=function(e){var t=Object(u.a)({},e.starship),a=["created","edited","url","id","color","isCompared"];for(var n in t)t.hasOwnProperty(n)&&a.includes(n)&&delete t[n];return r.a.createElement("div",{className:R.a.item},r.a.createElement(B,{starship:t,fieldsTitles:e.fieldsTitles}))},z=a(34),L=a.n(z),U=function(){var e=document.querySelectorAll(".cell"),t={};for(var a in e.forEach((function(e){var a=e.dataset.row;t[a]=t[a]?[].concat(Object(k.a)(t[a]),[e.offsetHeight]):[]})),t)if(t.hasOwnProperty(a)){var n=t[a];t[a]=Math.max.apply(Math,Object(k.a)(n))+"px"}e.forEach((function(e){e.style.height=t[e.dataset.row]}))},Z=function(){var e=Object(l.d)((function(e){return e.starships})).filter((function(e){return e.isCompared})),t=e.length>1?e.map((function(e,t){return r.a.createElement(H,{starship:e,fieldsTitles:0===t,key:t})})):r.a.createElement("h1",null,"Choose at least 2 starsheeps to compare");return Object(n.useEffect)(U),r.a.createElement("div",{className:L.a.items},t)},F=a(35),J=a.n(F),W=a(2),$=a(21),q=a.n($),D=Object(W.e)((function(e){return r.a.createElement("header",{className:q.a.header},r.a.createElement(s.b,{className:q.a.title,to:"/"},r.a.createElement("h1",null,"Starships")),"/compare/"===e.location.pathname?r.a.createElement(s.b,{to:"/"},r.a.createElement(g,{text:"Catalog"})):r.a.createElement(s.b,{to:"/compare/"},r.a.createElement(g,{text:"Compare"})))}));var K=Object(l.b)((function(e){return e}))((function(){var e=Object(l.c)();return Object(l.d)((function(e){return e.starships})).length||e(function(){var e=Object(_.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi.dev/api/starships/").then((function(e){return e.json()})).catch((function(){t({type:"ERROR"})}));case 2:if(!(a=e.sent)){e.next=8;break}return e.next=6,Promise.all(a.results.map(function(){var e=Object(_.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.films.map((function(e){return fetch(e.replace(/http:/,"https:")).then((function(e){return e.json()})).then((function(e){return e.title}))})));case 2:return t.films=e.sent,e.next=5,Promise.all(t.pilots.map((function(e){return fetch(e.replace(/http:/,"https:")).then((function(e){return e.json()})).then((function(e){return e.name}))})));case 5:return t.pilots=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:n=e.sent,t({type:"GET_STARSHIPS",payload:n});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.a.createElement("div",{className:J.a.App},r.a.createElement(D,null),r.a.createElement(W.a,{path:"/",exact:!0,component:N}),r.a.createElement(W.a,{path:"/compare",exact:!0,component:Z}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Q={starships:[],error:!1},V=function(){return"#"+Math.floor(16777215*Math.random()).toString(16)},X=Object(i.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STARSHIPS":var a=t.payload.map((function(e,t){return Object(u.a)(Object(u.a)({},e),{},{id:t,color:V(),isCompared:!1})}));return Object(u.a)(Object(u.a)({},e),{},{starships:a});case"TOGGLE_COMPARE":var n=e.starships.map((function(e){return e.id===t.payload&&(e.isCompared=!e.isCompared),e}));return Object(u.a)(Object(u.a)({},e),{},{starships:n});case"ERROR":return Object(u.a)(Object(u.a)({},e),{},{error:!0});default:return e}}),Object(i.c)(Object(i.a)(m.a)));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:X},r.a.createElement(s.a,{basename:"/starships"},r.a.createElement(K,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[36,1,2]]]);
//# sourceMappingURL=main.8dda6fe9.chunk.js.map