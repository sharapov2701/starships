(this.webpackJsonpstarships=this.webpackJsonpstarships||[]).push([[0],{20:function(e,t,a){e.exports={header:"Header_header__1uccA",title:"Header_title__3MWEh"}},28:function(e,t,a){e.exports={catalog:"Catalog_catalog__2GpC_"}},29:function(e,t,a){e.exports={compare:"Button_compare__2-xYs"}},30:function(e,t,a){e.exports={item:"CompareItem_item__ftzF4",fields:"CompareItem_fields__2vqey"}},31:function(e,t,a){e.exports={titles:"Fields_titles__gWEDG"}},32:function(e,t,a){e.exports={cell:"Cell_cell__g5hIQ"}},33:function(e,t,a){e.exports={items:"Compare_items__1wZii"}},34:function(e,t,a){e.exports={App:"App_App__3rjn-"}},35:function(e,t,a){e.exports=a(47)},44:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),o=a.n(c),s=a(11),i=a(12),l=a(6),u=a(27),m=(a(44),a(8)),p=a(28),f=a.n(p),d=a(14),h=a.n(d),_=a(19),v=a(9),E=a.n(v),b=a(29),j=a.n(b),O=function(e){var t=e.onClick,a=e.text;return r.a.createElement("button",{onClick:t,className:j.a.compare},a)},g=function(e){if(isNaN(+e))return e;for(var t="",a=0,n=e.length-1;n>=0;n--)a++,t+=e[n],3===a&&(t+=" ",a=0);return"".concat(t.split("").reverse().join("")," $")},y=function(e){var t=e.starship,a=Object(l.c)(),n=t.isCompared?"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0441\u0440\u0430\u043d\u0435\u043d\u0438\u044f":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044e";return r.a.createElement("div",{className:E.a.item},r.a.createElement("div",{className:E.a.title,style:{background:t.color}},r.a.createElement("span",{className:E.a.name},t.name)),r.a.createElement("div",{className:E.a.manufacturer},t.manufacturer),r.a.createElement("div",{className:E.a.model},t.model),r.a.createElement("div",{className:E.a.cost},g(t.cost_in_credits)),r.a.createElement(O,{onClick:function(){return a({type:"TOGGLE_COMPARE",payload:t.id})},text:n}))},x=function(){var e=Object(l.d)((function(e){return e.starships})).map((function(e){return r.a.createElement(y,{starship:Object(m.a)({},e),key:e.id})}));return r.a.createElement("div",{className:f.a.catalog},e)},C=a(23),w=a(30),N=a.n(w),A=a(31),k=a.n(A),I=a(32),S=a.n(I),T=function(e){return r.a.createElement("div",{className:"cell ".concat(S.a.cell),"data-row":e.row,style:e.style},e.content)},G=function(e){return(t=e.replace(/_/g," ")).charAt(0).toUpperCase()+t.slice(1);var t},P=function(e){var t=e.starship,a=e.fieldsTitles,n=Object.keys(t).map((function(e,n){var c=t[e];return Array.isArray(c)&&(c=c.length?c.join(", "):"-"),r.a.createElement("div",{className:"name"===e?"compare-header":""},r.a.createElement(T,{content:a?G(e):"",style:{fontSize:"14px",color:"rgba(0, 0, 0, 0.5)",position:"name"===e?"sticky":"static"}}),r.a.createElement(T,{row:n,content:c||"-"}))}));return r.a.createElement("div",{className:k.a.fields},n)},H=function(e){var t=Object(m.a)({},e.starship),a=["created","edited","url","id","color","isCompared"];for(var n in t)t.hasOwnProperty(n)&&a.includes(n)&&delete t[n];return r.a.createElement("div",{className:N.a.item},r.a.createElement(P,{starship:t,fieldsTitles:e.fieldsTitles}))},M=a(33),B=a.n(M),R=function(){var e=document.querySelectorAll(".cell"),t={};for(var a in e.forEach((function(e){var a=e.dataset.row;t[a]=t[a]?[].concat(Object(C.a)(t[a]),[e.offsetHeight]):[]})),t)if(t.hasOwnProperty(a)){var n=t[a];t[a]=Math.max.apply(Math,Object(C.a)(n))+"px"}e.forEach((function(e){e.style.height=t[e.dataset.row]}))},W=function(){var e=Object(l.d)((function(e){return e.starships})).filter((function(e){return e.isCompared})).map((function(e,t){return r.a.createElement(H,{starship:e,fieldsTitles:0===t})}));return Object(n.useEffect)(R),r.a.createElement("div",{className:B.a.items},e)},q=a(34),J=a.n(q),z=a(20),F=a.n(z),L=function(){return r.a.createElement("header",{className:F.a.header},r.a.createElement(s.b,{className:F.a.title,to:"/"},r.a.createElement("h1",null,"Starships")),r.a.createElement(s.b,{to:"/compare/"},r.a.createElement(O,{text:"\u0421\u0440\u0430\u0432\u043d\u0438\u0442\u044c"})))},V=a(2);var $=Object(l.b)((function(e){return e}))((function(){var e=Object(l.c)();return Object(l.d)((function(e){return e.starships})).length||e(function(){var e=Object(_.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://swapi.dev/api/starships/").then((function(e){return e.json()}));case 2:return a=e.sent,e.next=5,Promise.all(a.results.map(function(){var e=Object(_.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.films.map((function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.title}))})));case 2:return t.films=e.sent,e.next=5,Promise.all(t.pilots.map((function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.name}))})));case 5:return t.pilots=e.sent,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:n=e.sent,t({type:"GET_STARSHIPS",payload:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r.a.createElement("div",{className:J.a.App},r.a.createElement(L,null),r.a.createElement(V.a,{path:"/",exact:!0,component:x}),r.a.createElement(V.a,{path:"/compare",exact:!0,component:W}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D={starships:[]},Q=function(){return"#"+Math.floor(16777215*Math.random()).toString(16)},U=Object(i.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_STARSHIPS":var a=t.payload.map((function(e,t){return Object(m.a)(Object(m.a)({},e),{},{id:t,color:Q(),isCompared:!1})}));return Object(m.a)(Object(m.a)({},e),{},{starships:a});case"TOGGLE_COMPARE":var n=e.starships.map((function(e){return e.id===t.payload&&(e.isCompared=!e.isCompared),e}));return Object(m.a)(Object(m.a)({},e),{},{starships:n});default:return e}}),Object(i.c)(Object(i.a)(u.a)));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:U},r.a.createElement(s.a,null,r.a.createElement($,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports={item:"CatalogItem_item__3nAVJ",title:"CatalogItem_title__rBGlT",name:"CatalogItem_name__2NeHN",manufacturer:"CatalogItem_manufacturer__35EX0",model:"CatalogItem_model__3HlwH",cost:"CatalogItem_cost__N_fqV"}}},[[35,1,2]]]);
//# sourceMappingURL=main.62b7f0af.chunk.js.map